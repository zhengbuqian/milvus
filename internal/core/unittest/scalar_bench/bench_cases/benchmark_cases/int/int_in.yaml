version: 1
test_params:
  warmup_iterations: 30
  test_iterations: 30
  collect_memory_stats: false
  enable_flame_graph: false
  flamegraph_repo_path: ~/FlameGraph
suites:
  - name: default
    data_configs:
      - path: benchmark_cases/int/uniform_int64_low_card.yaml
      - path: benchmark_cases/int/uniform_int64_med_card.yaml
      - path: benchmark_cases/int/uniform_int64_high_card.yaml
    index_configs:
      - name: no_index
        field_configs: {}
      - name: bitmap_index
        field_configs:
          user_id:
            type: BITMAP
      - name: stl_sort_index
        field_configs:
          user_id:
            type: STL_SORT
      - name: inverted_index
        field_configs:
          user_id:
            type: INVERTED
    expr_templates:
      - name: user_id_in_10
        expr_template: |
          query {
            is_count: true
            predicates {
              term_expr {
                column_info {
                  field_id: {field_id:user_id}
                  data_type: Int64
                }
                values { int64_val: 1 }
                values { int64_val: 2 }
                values { int64_val: 3 }
                values { int64_val: 4 }
                values { int64_val: 5 }
                values { int64_val: 6 }
                values { int64_val: 7 }
                values { int64_val: 8 }
                values { int64_val: 9 }
                values { int64_val: 10 }
              }
            }
          }
      - name: user_id_in_100
        expr_template: |
          query {
            is_count: true
            predicates {
              term_expr {
                column_info {
                  field_id: {field_id:user_id}
                  data_type: Int64
                }
                values { int64_val: 1 }
                values { int64_val: 2 }
                values { int64_val: 3 }
                values { int64_val: 4 }
                values { int64_val: 5 }
                values { int64_val: 6 }
                values { int64_val: 7 }
                values { int64_val: 8 }
                values { int64_val: 9 }
                values { int64_val: 10 }
                values { int64_val: 11 }
                values { int64_val: 12 }
                values { int64_val: 13 }
                values { int64_val: 14 }
                values { int64_val: 15 }
                values { int64_val: 16 }
                values { int64_val: 17 }
                values { int64_val: 18 }
                values { int64_val: 19 }
                values { int64_val: 20 }
                values { int64_val: 21 }
                values { int64_val: 22 }
                values { int64_val: 23 }
                values { int64_val: 24 }
                values { int64_val: 25 }
                values { int64_val: 26 }
                values { int64_val: 27 }
                values { int64_val: 28 }
                values { int64_val: 29 }
                values { int64_val: 30 }
                values { int64_val: 31 }
                values { int64_val: 32 }
                values { int64_val: 33 }
                values { int64_val: 34 }
                values { int64_val: 35 }
                values { int64_val: 36 }
                values { int64_val: 37 }
                values { int64_val: 38 }
                values { int64_val: 39 }
                values { int64_val: 40 }
                values { int64_val: 41 }
                values { int64_val: 42 }
                values { int64_val: 43 }
                values { int64_val: 44 }
                values { int64_val: 45 }
                values { int64_val: 46 }
                values { int64_val: 47 }
                values { int64_val: 48 }
                values { int64_val: 49 }
                values { int64_val: 50 }
                values { int64_val: 51 }
                values { int64_val: 52 }
                values { int64_val: 53 }
                values { int64_val: 54 }
                values { int64_val: 55 }
                values { int64_val: 56 }
                values { int64_val: 57 }
                values { int64_val: 58 }
                values { int64_val: 59 }
                values { int64_val: 60 }
                values { int64_val: 61 }
                values { int64_val: 62 }
                values { int64_val: 63 }
                values { int64_val: 64 }
                values { int64_val: 65 }
                values { int64_val: 66 }
                values { int64_val: 67 }
                values { int64_val: 68 }
                values { int64_val: 69 }
                values { int64_val: 70 }
                values { int64_val: 71 }
                values { int64_val: 72 }
                values { int64_val: 73 }
                values { int64_val: 74 }
                values { int64_val: 75 }
                values { int64_val: 76 }
                values { int64_val: 77 }
                values { int64_val: 78 }
                values { int64_val: 79 }
                values { int64_val: 80 }
              }
            }
          }
