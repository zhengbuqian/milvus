version: 1
test_params:
  warmup_iterations: 30
  test_iterations: 30
  collect_memory_stats: false
  enable_flame_graph: false
  flamegraph_repo_path: ~/FlameGraph
suites:
  - name: default
    data_configs:
      - path: benchmark_cases/array/data_configs/1_short_words_card_100.yaml
      - path: benchmark_cases/array/data_configs/1_short_words_card_100.yaml
        override:
          name: 2_short_words_card_500
          fields:
            - element:
                values:
                  pick: 500
      - path: benchmark_cases/array/data_configs/1_short_words_card_100.yaml
        override:
          name: 3_short_words_card_1000
          fields:
            - element:
                values:
                  pick: 1000
      - path: benchmark_cases/array/data_configs/1_short_words_card_100.yaml
        override:
          name: 4_short_words_card_1500
          fields:
            - element:
                values:
                  pick: 1500
      - path: benchmark_cases/array/data_configs/1_short_words_card_100.yaml
        override:
          name: 5_short_words_card_2k
          fields:
            - element:
                values:
                  pick: 2000
      - path: benchmark_cases/array/data_configs/1_short_words_card_100.yaml
        override:
          name: 6_short_words_card_10k
          fields:
            - element:
                values:
                  pick: 10000
      - path: benchmark_cases/array/data_configs/1_short_words_card_100.yaml
        override:
          name: 7_short_words_card_100k
          fields:
            - element:
                values:
                  pick: 100000
      - path: benchmark_cases/array/data_configs/1_short_words_card_100.yaml
        override:
          name: 8_short_words_card_300k
          fields:
            - element:
                values:
                  pick: 300000
    index_configs:
      # - name: no_index
      #   field_configs: {}
      - name: bitmap_index
        field_configs:
          city_array:
            type: BITMAP
      - name: inverted_index
        field_configs:
          city_array:
            type: INVERTED
    expr_templates:
      - name: array_contains_any_large
        expr_template: array_contains_any(city_array, ["Dennisburgh", "South Holly"])
      - name: array_contains_any_med
        expr_template: array_contains_any(city_array, ["Cavriago"])
      - name: array_contains_any_small
        expr_template: array_contains_any(city_array, ["Lemonnier", "霞县"])
      - name: array_contains_any_many_small
        expr_template: array_contains_any(city_array, ["Lemonnier", "霞县", "Watsonstad", "West Vanessa", "Fernandes do Campo", "Millerhaven", "Großenhain", "Fraziermouth", "横浜市戸塚区", "丽华市", "Sullivanfort", "Barros da Praia"])
      - name: array_contains_any_not_found
        expr_template: array_contains_any(city_array, ["Not Found 1", "Not Found 2"])
